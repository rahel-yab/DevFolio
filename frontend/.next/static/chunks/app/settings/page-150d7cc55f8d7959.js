(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{722:(e,t,a)=>{"use strict";a.d(t,{K:()=>n});let s=a(9509).env.NEXT_PUBLIC_API_URL||"http://localhost:8080/api/v1";class r{getAuthHeaders(){let e=localStorage.getItem("access_token");return{"Content-Type":"application/json",...e&&{Authorization:"Bearer ".concat(e)}}}async handleResponse(e){if(!e.ok)throw Error((await e.json().catch(()=>({error:"Network error"}))).error||"HTTP ".concat(e.status));let t=await e.json();return t.data||t}async login(e){let t=await fetch("".concat(s,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}),a=await this.handleResponse(t);return a.access_token&&localStorage.setItem("access_token",a.access_token),a}async register(e){let t=await fetch("".concat(s,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}),a=await this.handleResponse(t);return a.access_token&&localStorage.setItem("access_token",a.access_token),a}async logout(){try{await fetch("".concat(s,"/auth/logout"),{method:"POST",headers:this.getAuthHeaders(),credentials:"include"})}finally{localStorage.removeItem("access_token")}}async getProfile(){let e=await fetch("".concat(s,"/auth/profile"),{headers:this.getAuthHeaders(),credentials:"include"});return this.handleResponse(e)}async updateProfile(e){let t=await fetch("".concat(s,"/auth/profile"),{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(e),credentials:"include"});return this.handleResponse(t)}async refreshToken(){let e=await fetch("".concat(s,"/auth/refresh"),{method:"POST",credentials:"include"}),t=await this.handleResponse(e);return t.access_token&&localStorage.setItem("access_token",t.access_token),t}async getUserPortfolios(){let e=await fetch("".concat(s,"/portfolios/user"),{headers:this.getAuthHeaders(),credentials:"include"});return this.handleResponse(e)}async getPortfolio(e){let t=await fetch("".concat(s,"/portfolios/").concat(e),{headers:this.getAuthHeaders(),credentials:"include"});return this.handleResponse(t)}async createPortfolio(e){let t=await fetch("".concat(s,"/portfolios"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(e),credentials:"include"});return this.handleResponse(t)}async updatePortfolio(e,t){let a=await fetch("".concat(s,"/portfolios/").concat(e),{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(t),credentials:"include"});return this.handleResponse(a)}async deletePortfolio(e){let t=await fetch("".concat(s,"/portfolios/").concat(e),{method:"DELETE",headers:this.getAuthHeaders(),credentials:"include"});await this.handleResponse(t)}async getPublicPortfolios(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=await fetch("".concat(s,"/portfolios/public?limit=").concat(e,"&offset=").concat(t));return this.handleResponse(a)}async searchPortfolios(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=await fetch("".concat(s,"/portfolios/search?q=").concat(encodeURIComponent(e),"&limit=").concat(t,"&offset=").concat(a));return this.handleResponse(r)}async enhanceWithAI(e,t,a){let r=await fetch("".concat(s,"/portfolios/enhance"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({portfolio_id:e,fields:t,context:a}),credentials:"include"});return this.handleResponse(r)}async healthCheck(){let e=await fetch("".concat(s.replace("/api/v1",""),"/health"));return this.handleResponse(e)}}let n=new r},2608:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(5155),r=a(2115),n=a(4105),o=a(5695);function i(){let{user:e,isAuthenticated:t,isLoading:a}=(0,n.A)(),i=(0,o.useRouter)(),[c,l]=(0,r.useState)({emailNotifications:!0,marketingEmails:!1,profileVisibility:"public",twoFactorAuth:!1});(0,r.useEffect)(()=>{a||t||i.push("/login")},[t,a,i]);let d=(e,t)=>{l(a=>({...a,[e]:t}))};return a||!e?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,s.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 py-8",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Manage your account preferences and privacy settings"})]}),(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Notifications"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"Email Notifications"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"Receive notifications about your account activity"})]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:c.emailNotifications,onChange:e=>d("emailNotifications",e.target.checked),className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"Marketing Emails"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"Receive updates about new features and tips"})]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:c.marketingEmails,onChange:e=>d("marketingEmails",e.target.checked),className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Privacy"}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Profile Visibility"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Control who can see your profile information"}),(0,s.jsxs)("select",{value:c.profileVisibility,onChange:e=>d("profileVisibility",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"public",children:"Public - Anyone can see your profile"}),(0,s.jsx)("option",{value:"private",children:"Private - Only you can see your profile"}),(0,s.jsx)("option",{value:"contacts",children:"Contacts Only - Only your contacts can see"})]})]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Security"}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"Two-Factor Authentication"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"Add an extra layer of security to your account"})]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:c.twoFactorAuth,onChange:e=>d("twoFactorAuth",e.target.checked),className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Password"}),(0,s.jsx)("button",{className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Change Password"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Account Actions"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Export Data"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Download a copy of your data including profiles and resumes"}),(0,s.jsx)("button",{className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Export Data"})]}),(0,s.jsxs)("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[(0,s.jsx)("h3",{className:"font-semibold text-red-900 mb-2",children:"Delete Account"}),(0,s.jsx)("p",{className:"text-red-700 text-sm mb-4",children:"Permanently delete your account and all associated data. This action cannot be undone."}),(0,s.jsx)("button",{className:"px-6 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Delete Account"})]})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("button",{className:"px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:"Save Settings"})})})]})]})})}},4105:(e,t,a)=>{"use strict";a.d(t,{A:()=>i,AuthProvider:()=>c});var s=a(5155),r=a(2115),n=a(722);let o=(0,r.createContext)(void 0),i=()=>{let e=(0,r.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},c=e=>{let{children:t}=e,[a,i]=(0,r.useState)(null),[c,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{if(localStorage.getItem("access_token"))try{let e=await n.K.getProfile();i(e)}catch(e){try{await n.K.refreshToken();let e=await n.K.getProfile();i(e)}catch(e){localStorage.removeItem("access_token")}}l(!1)})()},[]);let d=async e=>{l(!0);try{let t=await n.K.login(e);i(t.user)}finally{l(!1)}},h=async e=>{l(!0);try{let t=await n.K.register(e);i(t.user)}finally{l(!1)}},u=async()=>{l(!0);try{await n.K.logout()}finally{i(null),l(!1)}},f=async e=>{if(a){l(!0);try{let t=await n.K.updateProfile(e);i(t)}finally{l(!1)}}};return(0,s.jsx)(o.Provider,{value:{user:a,isLoading:c,isAuthenticated:!!a,login:d,register:h,logout:u,updateProfile:f},children:t})}},5695:(e,t,a)=>{"use strict";var s=a(8999);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},8720:(e,t,a)=>{Promise.resolve().then(a.bind(a,2608))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(8720)),_N_E=e.O()}]);