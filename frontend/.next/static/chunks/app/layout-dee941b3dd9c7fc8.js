(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},722:(e,t,s)=>{"use strict";s.d(t,{K:()=>o});let a=s(9509).env.NEXT_PUBLIC_API_URL||"http://localhost:8080/api/v1";class r{getAuthHeaders(){let e=localStorage.getItem("access_token");return{"Content-Type":"application/json",...e&&{Authorization:"Bearer ".concat(e)}}}async handleResponse(e){if(!e.ok)throw Error((await e.json().catch(()=>({error:"Network error"}))).error||"HTTP ".concat(e.status));let t=await e.json();return t.data||t}async login(e){let t=await fetch("".concat(a,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}),s=await this.handleResponse(t);return s.access_token&&localStorage.setItem("access_token",s.access_token),s}async register(e){let t=await fetch("".concat(a,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}),s=await this.handleResponse(t);return s.access_token&&localStorage.setItem("access_token",s.access_token),s}async logout(){try{await fetch("".concat(a,"/auth/logout"),{method:"POST",headers:this.getAuthHeaders(),credentials:"include"})}finally{localStorage.removeItem("access_token")}}async getProfile(){let e=await fetch("".concat(a,"/auth/profile"),{headers:this.getAuthHeaders(),credentials:"include"});return this.handleResponse(e)}async updateProfile(e){let t=await fetch("".concat(a,"/auth/profile"),{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(e),credentials:"include"});return this.handleResponse(t)}async refreshToken(){let e=await fetch("".concat(a,"/auth/refresh"),{method:"POST",credentials:"include"}),t=await this.handleResponse(e);return t.access_token&&localStorage.setItem("access_token",t.access_token),t}async getUserPortfolios(){let e=await fetch("".concat(a,"/portfolios/user"),{headers:this.getAuthHeaders(),credentials:"include"});return this.handleResponse(e)}async getPortfolio(e){let t=await fetch("".concat(a,"/portfolios/").concat(e),{headers:this.getAuthHeaders(),credentials:"include"});return this.handleResponse(t)}async createPortfolio(e){let t=await fetch("".concat(a,"/portfolios"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(e),credentials:"include"});return this.handleResponse(t)}async updatePortfolio(e,t){let s=await fetch("".concat(a,"/portfolios/").concat(e),{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(t),credentials:"include"});return this.handleResponse(s)}async deletePortfolio(e){let t=await fetch("".concat(a,"/portfolios/").concat(e),{method:"DELETE",headers:this.getAuthHeaders(),credentials:"include"});await this.handleResponse(t)}async getPublicPortfolios(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=await fetch("".concat(a,"/portfolios/public?limit=").concat(e,"&offset=").concat(t));return this.handleResponse(s)}async searchPortfolios(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=await fetch("".concat(a,"/portfolios/search?q=").concat(encodeURIComponent(e),"&limit=").concat(t,"&offset=").concat(s));return this.handleResponse(r)}async enhanceWithAI(e,t,s){let r=await fetch("".concat(a,"/portfolios/enhance"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({portfolio_id:e,fields:t,context:s}),credentials:"include"});return this.handleResponse(r)}async healthCheck(){let e=await fetch("".concat(a.replace("/api/v1",""),"/health"));return this.handleResponse(e)}}let o=new r},1469:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return i},getImageProps:function(){return l}});let a=s(8229),r=s(8883),o=s(3063),n=a._(s(1193));function l(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let i=o.Image},2093:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_188709",variable:"__variable_188709"}},4105:(e,t,s)=>{"use strict";s.d(t,{A:()=>l,AuthProvider:()=>i});var a=s(5155),r=s(2115),o=s(722);let n=(0,r.createContext)(void 0),l=()=>{let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},i=e=>{let{children:t}=e,[s,l]=(0,r.useState)(null),[i,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{if(localStorage.getItem("access_token"))try{let e=await o.K.getProfile();l(e)}catch(e){try{await o.K.refreshToken();let e=await o.K.getProfile();l(e)}catch(e){localStorage.removeItem("access_token")}}c(!1)})()},[]);let d=async e=>{c(!0);try{let t=await o.K.login(e);l(t.user)}finally{c(!1)}},h=async e=>{c(!0);try{let t=await o.K.register(e);l(t.user)}finally{c(!1)}},u=async()=>{c(!0);try{await o.K.logout()}finally{l(null),c(!1)}},m=async e=>{if(s){c(!0);try{let t=await o.K.updateProfile(e);l(t)}finally{c(!1)}}};return(0,a.jsx)(n.Provider,{value:{user:s,isLoading:i,isAuthenticated:!!s,login:d,register:h,logout:u,updateProfile:m},children:t})}},4615:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var a=s(5155),r=s(6874),o=s.n(r),n=s(6766),l=s(2115),i=s(4105);function c(){var e,t,s,r,c,d;let[h,u]=(0,l.useState)(!1),[m,f]=(0,l.useState)(!1),{user:g,isAuthenticated:x,logout:p,isLoading:v}=(0,i.A)(),y=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=e=>{y.current&&!y.current.contains(e.target)&&f(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let b=async()=>{try{await p(),u(!1),f(!1)}catch(e){console.error("Logout failed:",e)}};return(0,a.jsx)("header",{className:"w-full bg-white/95 backdrop-blur-sm shadow-lg border-b border-gray-100 sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)(o(),{href:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.default,{src:"/logo.png",alt:"DevFolio Logo",width:40,height:40,className:"rounded-lg"}),(0,a.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg blur opacity-20"})]}),(0,a.jsx)("span",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"DevFolio"})]}),(0,a.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[(0,a.jsxs)(o(),{href:"/",className:"text-gray-700 hover:text-indigo-600 font-medium transition-colors relative group",children:["Home",(0,a.jsx)("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-indigo-600 transition-all group-hover:w-full"})]}),(0,a.jsxs)(o(),{href:"/templates",className:"text-gray-700 hover:text-indigo-600 font-medium transition-colors relative group",children:["Templates",(0,a.jsx)("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-indigo-600 transition-all group-hover:w-full"})]}),(0,a.jsxs)(o(),{href:"/dashboard",className:"text-gray-700 hover:text-indigo-600 font-medium transition-colors relative group",children:["Dashboard",(0,a.jsx)("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-indigo-600 transition-all group-hover:w-full"})]})]}),(0,a.jsx)("div",{className:"hidden md:flex items-center space-x-4",children:x?(0,a.jsxs)("div",{className:"relative",ref:y,children:[(0,a.jsxs)("button",{onClick:()=>f(!m),className:"flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[(null==g?void 0:g.avatar)?(0,a.jsx)("img",{src:g.avatar,alt:"Profile",className:"w-8 h-8 rounded-full object-cover border-2 border-gray-200"}):(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-white text-sm font-semibold",children:[null==g||null==(e=g.first_name)?void 0:e[0],null==g||null==(t=g.last_name)?void 0:t[0]]})}),(0,a.jsxs)("span",{className:"text-gray-700 font-medium",children:[null==g?void 0:g.first_name," ",null==g?void 0:g.last_name]}),(0,a.jsx)("svg",{className:"w-4 h-4 text-gray-600 transition-transform ".concat(m?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50",children:[(0,a.jsx)("div",{className:"px-4 py-3 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(null==g?void 0:g.avatar)?(0,a.jsx)("img",{src:g.avatar,alt:"Profile",className:"w-10 h-10 rounded-full object-cover border-2 border-gray-200"}):(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-white font-semibold",children:[null==g||null==(s=g.first_name)?void 0:s[0],null==g||null==(r=g.last_name)?void 0:r[0]]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-semibold text-gray-900",children:[null==g?void 0:g.first_name," ",null==g?void 0:g.last_name]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:null==g?void 0:g.email})]})]})}),(0,a.jsxs)("div",{className:"py-2",children:[(0,a.jsxs)(o(),{href:"/profile",onClick:()=>f(!1),className:"flex items-center px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Edit Profile"]}),(0,a.jsxs)(o(),{href:"/dashboard",onClick:()=>f(!1),className:"flex items-center px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Dashboard"]}),(0,a.jsxs)(o(),{href:"/settings",onClick:()=>f(!1),className:"flex items-center px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("svg",{className:"w-4 h-4 mr-3 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]}),(0,a.jsx)("div",{className:"border-t border-gray-100 mt-2 pt-2",children:(0,a.jsxs)("button",{onClick:b,className:"flex items-center w-full px-4 py-2 text-red-600 hover:bg-red-50 transition-colors",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o(),{href:"/login",children:(0,a.jsx)("button",{className:"px-4 py-2 text-gray-700 hover:text-indigo-600 font-medium transition-colors",children:"Sign In"})}),(0,a.jsx)(o(),{href:"/templates",children:(0,a.jsx)("button",{className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:"Get Started"})})]})}),(0,a.jsx)("button",{onClick:()=>u(!h),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h?(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),h&&(0,a.jsx)("div",{className:"md:hidden py-4 border-t border-gray-100",children:(0,a.jsxs)("nav",{className:"flex flex-col space-y-4",children:[(0,a.jsx)(o(),{href:"/",className:"text-gray-700 hover:text-indigo-600 font-medium transition-colors px-2 py-1",onClick:()=>u(!1),children:"Home"}),(0,a.jsx)(o(),{href:"/templates",className:"text-gray-700 hover:text-indigo-600 font-medium transition-colors px-2 py-1",onClick:()=>u(!1),children:"Templates"}),(0,a.jsx)(o(),{href:"/dashboard",className:"text-gray-700 hover:text-indigo-600 font-medium transition-colors px-2 py-1",onClick:()=>u(!1),children:"Dashboard"}),(0,a.jsx)("div",{className:"flex flex-col space-y-3 pt-4 border-t border-gray-100",children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 px-2 py-1",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-white text-sm font-semibold",children:[null==g||null==(c=g.first_name)?void 0:c[0],null==g||null==(d=g.last_name)?void 0:d[0]]})}),(0,a.jsxs)("span",{className:"text-gray-700 font-medium",children:[null==g?void 0:g.first_name," ",null==g?void 0:g.last_name]})]}),(0,a.jsx)("button",{onClick:b,className:"w-full px-4 py-2 text-gray-700 hover:text-red-600 font-medium transition-colors text-left",children:"Sign Out"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o(),{href:"/login",onClick:()=>u(!1),children:(0,a.jsx)("button",{className:"w-full px-4 py-2 text-gray-700 hover:text-indigo-600 font-medium transition-colors text-left",children:"Sign In"})}),(0,a.jsx)(o(),{href:"/templates",onClick:()=>u(!1),children:(0,a.jsx)("button",{className:"w-full px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-semibold shadow-lg",children:"Get Started"})})]})})]})})]})})}},6766:(e,t,s)=>{"use strict";s.d(t,{default:()=>r.a});var a=s(1469),r=s.n(a)},6768:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6874,23)),Promise.resolve().then(s.t.bind(s,2093,23)),Promise.resolve().then(s.t.bind(s,7735,23)),Promise.resolve().then(s.t.bind(s,347,23)),Promise.resolve().then(s.bind(s,4615)),Promise.resolve().then(s.bind(s,4105))},7735:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}}},e=>{var t=t=>e(e.s=t);e.O(0,[360,874,63,441,684,358],()=>t(6768)),_N_E=e.O()}]);