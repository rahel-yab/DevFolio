(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{722:(e,t,a)=>{"use strict";a.d(t,{K:()=>n});let s=a(9509).env.NEXT_PUBLIC_API_URL||"http://localhost:8080/api/v1";class r{getAuthHeaders(){let e=localStorage.getItem("access_token");return{"Content-Type":"application/json",...e&&{Authorization:"Bearer ".concat(e)}}}async handleResponse(e){if(!e.ok)throw Error((await e.json().catch(()=>({error:"Network error"}))).error||"HTTP ".concat(e.status));let t=await e.json();return t.data||t}async login(e){let t=await fetch("".concat(s,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}),a=await this.handleResponse(t);return a.access_token&&localStorage.setItem("access_token",a.access_token),a}async register(e){let t=await fetch("".concat(s,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}),a=await this.handleResponse(t);return a.access_token&&localStorage.setItem("access_token",a.access_token),a}async logout(){try{await fetch("".concat(s,"/auth/logout"),{method:"POST",headers:this.getAuthHeaders(),credentials:"include"})}finally{localStorage.removeItem("access_token")}}async getProfile(){let e=await fetch("".concat(s,"/auth/profile"),{headers:this.getAuthHeaders(),credentials:"include"});return this.handleResponse(e)}async updateProfile(e){let t=await fetch("".concat(s,"/auth/profile"),{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(e),credentials:"include"});return this.handleResponse(t)}async refreshToken(){let e=await fetch("".concat(s,"/auth/refresh"),{method:"POST",credentials:"include"}),t=await this.handleResponse(e);return t.access_token&&localStorage.setItem("access_token",t.access_token),t}async getUserPortfolios(){let e=await fetch("".concat(s,"/portfolios/user"),{headers:this.getAuthHeaders(),credentials:"include"});return this.handleResponse(e)}async getPortfolio(e){let t=await fetch("".concat(s,"/portfolios/").concat(e),{headers:this.getAuthHeaders(),credentials:"include"});return this.handleResponse(t)}async createPortfolio(e){let t=await fetch("".concat(s,"/portfolios"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(e),credentials:"include"});return this.handleResponse(t)}async updatePortfolio(e,t){let a=await fetch("".concat(s,"/portfolios/").concat(e),{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(t),credentials:"include"});return this.handleResponse(a)}async deletePortfolio(e){let t=await fetch("".concat(s,"/portfolios/").concat(e),{method:"DELETE",headers:this.getAuthHeaders(),credentials:"include"});await this.handleResponse(t)}async getPublicPortfolios(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=await fetch("".concat(s,"/portfolios/public?limit=").concat(e,"&offset=").concat(t));return this.handleResponse(a)}async searchPortfolios(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=await fetch("".concat(s,"/portfolios/search?q=").concat(encodeURIComponent(e),"&limit=").concat(t,"&offset=").concat(a));return this.handleResponse(r)}async enhanceWithAI(e,t,a){let r=await fetch("".concat(s,"/portfolios/enhance"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({portfolio_id:e,fields:t,context:a}),credentials:"include"});return this.handleResponse(r)}async healthCheck(){let e=await fetch("".concat(s.replace("/api/v1",""),"/health"));return this.handleResponse(e)}}let n=new r},3246:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(5155),r=a(2115),n=a(4105),o=a(5695);function l(){var e,t;let{user:a,isAuthenticated:l,updateProfile:i,isLoading:d}=(0,n.A)(),c=(0,o.useRouter)(),[u,h]=(0,r.useState)({first_name:"",last_name:"",email:"",bio:"",phone:"",location:"",website:"",linkedin:"",github:""}),[g,m]=(0,r.useState)(!1),[b,f]=(0,r.useState)(!1),[p,x]=(0,r.useState)(""),[y,v]=(0,r.useState)(null),[w,j]=(0,r.useState)(null);(0,r.useEffect)(()=>{d||l||c.push("/login")},[l,d,c]),(0,r.useEffect)(()=>{a&&(h({first_name:a.first_name||"",last_name:a.last_name||"",email:a.email||"",bio:a.bio||"",phone:a.phone||"",location:a.location||"",website:a.website||"",linkedin:a.linkedin||"",github:a.github||""}),v(a.avatar||null))},[a]);let N=e=>{let{name:t,value:a}=e.target;h(e=>({...e,[t]:a}))},k=async()=>{f(!0),x("");try{let e={...u,avatar:y||""};await i(e),m(!1),x("Profile updated successfully!"),setTimeout(()=>x(""),3e3)}catch(e){x("Failed to update profile. Please try again."),setTimeout(()=>x(""),3e3)}finally{f(!1)}};return d||!a?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,s.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 py-8",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"relative",children:[y?(0,s.jsx)("img",{src:y,alt:"Profile",className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200"}):(0,s.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center",children:(0,s.jsxs)("span",{className:"text-white text-xl font-bold",children:[null==(e=a.first_name)?void 0:e[0],null==(t=a.last_name)?void 0:t[0]]})}),g&&(0,s.jsx)("div",{className:"absolute -bottom-1 -right-1",children:(0,s.jsxs)("label",{className:"cursor-pointer",children:[(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(a){j(a);let e=new FileReader;e.onload=e=>{var t;v(null==(t=e.target)?void 0:t.result)},e.readAsDataURL(a)}},className:"hidden"}),(0,s.jsx)("div",{className:"w-6 h-6 bg-indigo-600 rounded-full flex items-center justify-center hover:bg-indigo-700 transition-colors",children:(0,s.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:[a.first_name," ",a.last_name]}),(0,s.jsx)("p",{className:"text-gray-700",children:a.email}),g&&y&&(0,s.jsx)("button",{onClick:()=>{v(null),j(null)},className:"text-sm text-red-600 hover:text-red-800 mt-1",children:"Remove photo"})]})]}),g?(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{onClick:()=>{a&&h({first_name:a.first_name||"",last_name:a.last_name||"",email:a.email||"",bio:a.bio||"",phone:a.phone||"",location:a.location||"",website:a.website||"",linkedin:a.linkedin||"",github:a.github||""}),m(!1),x("")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:k,disabled:b,className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:b?"Saving...":"Save Changes"})]}):(0,s.jsx)("button",{onClick:()=>m(!0),className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:"Edit Profile"})]}),p&&(0,s.jsx)("div",{className:"p-3 rounded-lg mb-6 ".concat(p.includes("successfully")?"bg-green-50 border border-green-200 text-green-600":"bg-red-50 border border-red-200 text-red-600"),children:p})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Profile Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"First Name"}),(0,s.jsx)("input",{type:"text",name:"first_name",value:u.first_name,onChange:N,disabled:!g,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-700"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Last Name"}),(0,s.jsx)("input",{type:"text",name:"last_name",value:u.last_name,onChange:N,disabled:!g,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-700"})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),(0,s.jsx)("input",{type:"email",name:"email",value:u.email,onChange:N,disabled:!g,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-700"})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bio"}),(0,s.jsx)("textarea",{name:"bio",value:u.bio,onChange:N,disabled:!g,rows:4,placeholder:"Tell us about yourself...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-700"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),(0,s.jsx)("input",{type:"tel",name:"phone",value:u.phone,onChange:N,disabled:!g,placeholder:"+1 (555) 123-4567",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-700"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),(0,s.jsx)("input",{type:"text",name:"location",value:u.location,onChange:N,disabled:!g,placeholder:"City, Country",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-700"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Website"}),(0,s.jsx)("input",{type:"url",name:"website",value:u.website,onChange:N,disabled:!g,placeholder:"https://yourwebsite.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-700"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"LinkedIn"}),(0,s.jsx)("input",{type:"url",name:"linkedin",value:u.linkedin,onChange:N,disabled:!g,placeholder:"https://linkedin.com/in/username",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-700"})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GitHub"}),(0,s.jsx)("input",{type:"url",name:"github",value:u.github,onChange:N,disabled:!g,placeholder:"https://github.com/username",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-700"})]})]})]})]})})}},4105:(e,t,a)=>{"use strict";a.d(t,{A:()=>l,AuthProvider:()=>i});var s=a(5155),r=a(2115),n=a(722);let o=(0,r.createContext)(void 0),l=()=>{let e=(0,r.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},i=e=>{let{children:t}=e,[a,l]=(0,r.useState)(null),[i,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{if(localStorage.getItem("access_token"))try{let e=await n.K.getProfile();l(e)}catch(e){try{await n.K.refreshToken();let e=await n.K.getProfile();l(e)}catch(e){localStorage.removeItem("access_token")}}d(!1)})()},[]);let c=async e=>{d(!0);try{let t=await n.K.login(e);l(t.user)}finally{d(!1)}},u=async e=>{d(!0);try{let t=await n.K.register(e);l(t.user)}finally{d(!1)}},h=async()=>{d(!0);try{await n.K.logout()}finally{l(null),d(!1)}},g=async e=>{if(a){d(!0);try{let t=await n.K.updateProfile(e);l(t)}finally{d(!1)}}};return(0,s.jsx)(o.Provider,{value:{user:a,isLoading:i,isAuthenticated:!!a,login:c,register:u,logout:h,updateProfile:g},children:t})}},5695:(e,t,a)=>{"use strict";var s=a(8999);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},8680:(e,t,a)=>{Promise.resolve().then(a.bind(a,3246))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(8680)),_N_E=e.O()}]);